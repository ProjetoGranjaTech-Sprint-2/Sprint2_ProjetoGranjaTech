<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="c_index.css">
    <title>Cadastro - GranjaTech</title>
</head>

<body>
    <div class="container">
        <div class="img-galinha">
            <img src="../imagens/imagem logado.png">
        </div>
        <div class="form">
            <form action="#">
                <div class="form-header">
                    <div class="titulo">
                        <h1>Cadastre-se</h1>
                    </div>
                    <div class="login-botao">
                        <button><a href="#">Entrar</a></button>
                    </div>
                </div>

                <div class="input-grupo">
                    <div class="input-box">
                        <label for="nome_empresarial">Nome Empresarial</label>
                        <input id="nome_empresarial" name="nome_empresarial" placeholder="Nome Empresarial" >
                    </div>

                    <div class="input-box">
                        <label for="nome_fantasia">Nome Fantasia</label>
                        <input id="nome_fantasia" name="nome_fantasia" placeholder="Nome Fantasia" >
                    </div>

                    <div class="input-box">
                        <label for="cnpj">CNPJ</label>
                        <input id="cnpj" name="cnpj" placeholder="CNPJ" >
                    </div>

                    <div class="input-box">
                        <label for="email">Email</label>
                        <input id="email" name="email" placeholder="Email" >
                    </div>

                    <div class="input-box">
                        <label for="Senha">Senha</label>
                        <input class="input" type="password" id="input_senha" class="material-symbols-outlined"
                            placeholder="Senha"> <button onclick="mostrar()" class="material-symbols-outlined"
                            id="olhinho">visibility</button>
                    </div>

                    <div class="input-box">
                        <label for="telefone">Telefone</label>
                        <input id="telefone" name="telefone" placeholder="Telefone">
                    </div>
                </div>

                <div class="continuar-botao">
                    <button onclick="prosseguir()">Prosseguir</button>
                </div>

                <div id="div_cadastro"></div>

            </form>
        </div>
    </div>
</body>

</html>
<script>
    var nome_empresarial = nome_empresarial.value;
    var nome_fantasia = nome_fantasia.value;
    var cnpj = cnpj.value;
    var email = email.value;
    var senha = senha.value;
    var telefone = telefone.value;

    function mostrar() {
        senha = input_senha.value;
        senha = document.getElementById("input_senha")

        if (senha.type == "password") {
            senha.type = "text"
        } else {
            senha.type = "password"
        }
    }

    function prosseguir() {
        nome_empresarial = input_nome_empresarial.value;
        nome_fantasia = input_nome_fantasia.value;
        cnpj = input_cnpj.value;
        email = input_email.value;
        senha = input_senha.value;
        telefone = input_telefone.value;

        if (nome_empresarial == "") { // validação para que o campo nome empresarial não esteja vazio, porém, se a pessoa der espaço no campo, a validação é falha.
            div_cadastro.innerHTML = `Por favor, preencha o campo "Nome Empresarial (Responsável/Empresário)".`
        } else {
            if (nome_fantasia == "") { // validação para que o campo nome fantasia não esteja vazio, porém, se a pessoa der espaço no campo, a validação é falha.
                div_cadastro.innerHTML = `Por favor, preencha o campo "Nome Fantasia".`
            } else {
                if (cnpj == "") {
                    div_cadastro.innerHTML = `Por favor, preencha o campo "CNPJ".`
                } else if (cnpj.length >= 14 & cnpj.length <= 18) { // o cnpj pode ser tanto com "." e "-" como somente os números, por isso essa quantidade de caracteres "barrada".
                    if (email == "") {
                        div_cadastro.innerHTML = `Por favor, preencha o campo "Email".`
                    } else if (email.indexOf('.com') >= 0) { // validação para que o email tem ".com", se não, o usuário não segue em frente.
                        var possuiEmailVálido =
                            email.indexOf('@gmail') >= 0 ||
                            email.indexOf('@hotmail') >= 0 ||
                            email.indexOf('@outlook') >= 0;

                        if (possuiEmailVálido) { // validação para que o usuário insira um desses endereços de email testados na variável acima (possuiEmailVálido).
                            if (senha == "") {
                                div_cadastro.innerHTML = `Por favor, preencha o campo "Senha".`
                            } else if (senha.length >= 10) {
                                var possui_especial =
                                    senha.indexOf('#') >= 0 ||
                                    senha.indexOf('@') >= 0 ||
                                    senha.indexOf('!') >= 0 ||
                                    senha.indexOf('%') >= 0 ||
                                    senha.indexOf('$') >= 0 ||
                                    senha.indexOf('&') >= 0 ||
                                    senha.indexOf('*') >= 0;

                                if (possui_especial) { // validação para que o usuário coloque na sua senha pelo menos 1 caracter especial ditados na variável acima. 
                                    
                                } else {
                                    div_cadastro.innerHTML = `Sua senha não contém caracteres especiais! Por favor, insira uma senha com um ou mais caracteres especiais (!, @, #, $, %, &, *).`
                                }
                            } else {
                                div_cadastro.innerHTML = `Senha com quantidade de caracteres inválido! Por favor, insira uma senha com 10 ou mais caracteres.`
                            }
                        } else {
                            div_cadastro.innerHTML = `Email inválido! Insira um email que tenha um dos seguintes endereços: "@outlook", "@gmail" ou "@hotmail"`

                        }
                    } else {
                        div_cadastro.innerHTML = `Email inválido!`
                    }
                } else {
                    div_cadastro.innerHTML = `CNPJ inválido!`
                }
            }
        }
    }
</script>