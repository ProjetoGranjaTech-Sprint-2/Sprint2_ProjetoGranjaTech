<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Financeiro GranjaTech</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main>
        <section class="section_inputs">
            <h2>SIMULADOR</h2>
            <div class="div_inputs">
                <div class="input_grupo1">
                    <label>Quantidade de galinhas </label>
                    <input type="number" id="input_galinhas">

                    <label>Quantas galinhas morrerem por ano?</label>
                    <input type="number" id="input_galinhas_morte">
                </div>
                <div class="input_grupo2">
                    <label>Qtd de ovos vendidos mensal</label>
                    <input type="number" id="input_qtd_ovo">

                    <label>Preço médio de venda do ovo</label>
                    <input type="number" id="input_preco_ovo">
                </div>

                <div class="input_grupo3">
                    <label>Qual a área total em m² dos galpões?</label>
                    <input type="number" id="input_area_total">

                    <label>Há quantos nebulizadores?</label>
                    <input type="number" id="input_nebulizador">

                    <label>Qual tipo de sensor será utilizado?</label>
                    <select name="" id="select_sensor">
                        <option value="Selecione seu sensor" disabled selected> SELECIONE O SEU SENSOR </option>
                        <option value="Sensor de temperatura e umidade" >SENSOR DE TEMPERATURA E UMIDADE</option>
                        <option value="Sensor de temperatura">SENSOR DE TEMPERATURA</option>
                        <option value="Sensor de umidade">SENSOR DE UMIDADE</option>
                    </select>
                </div>

                <div class="botoes">
                    <button onclick="calcular()">Calcular</button>
                    <button onclick="limparGalinha()">Limpar</button>
                </div>
            </div>
        </section>

        <section class="section_resultados">
            <div id="div_html">
                <h4>
                    <h1>Bem vindo ao simulador GranjaTech</h1>
                    <span>
                        Estamos aqui para ajudá-lo a entender como
                        as condições
                        climáticas afetam o desempenho financeiro de sua granja.
                    </span>
                </h4>
                <div>
                    <img src="./galinha.png" alt="Icone da galinha" id="galinhaAnimada">
                </div>
            </div>
        </section>


    </main>
</body>
</div>

</html>

<script>
    var galinhas = Number(input_galinhas.value);
    var galinhasMortas = Number(input_galinhas_morte.value);
    var qtdOvo = Number(input_qtd_ovo.value);
    var precoOvo = Number(input_preco_ovo.value);
    var areaGalpao = Number(input_area_total.value);
    var nebulizador = Number(input_nebulizador.value);
    var sensorUtilizado = select_sensor.value;

    // inputs do simulador
    var galinhasPerdidas = (galinhasMortas / galinhas) * 100 // Média de galinhas perdidas
    var ovoPorGalinha = qtdOvo / galinhas  // Ovos gerados por galinha
    var ovoPorGalinhaPerdido = ovoPorGalinha * galinhasMortas // Quantidade de ovos perdidos por galinha 
    var lucro = qtdOvo * precoOvo // Lucro em cima da quantidade de ovos e do preço do ovo
    var lucroPerdido = ovoPorGalinhaPerdido * precoOvo  // média de ovos por galinha perdidas pelo preço do ovo unitário gera o lucro perdido
    var sensor = 2; // Range de 2m do sensor
    var sensorTemperatura = areaGalpao / sensor; // A divisão deles, graças ao range do sensor determina a qtd
    var sensorUmidade = nebulizador; // Eles são iguais, há 1 sensor em cada nebulizador
    var sensorTotal = sensorTemperatura + sensorUmidade; // A soma da quantidade dos dois sensores
    // Variáveis dos sensores

    function calcular() {

        div_html.innerHTML = `
        <div class = 'baixo_simulador'>
        <span class ='texto_simulador'> 
            De suas <b style="color: #9c4303;"> ${galinhas} </b> galinhas, em média <b style="color: #9c4303;"> ${(galinhasPerdidas).toFixed(3)}%. </b> delas morrem por falta de monitoramento de regulação da temperatura e umidade, com <b style="color: #9c4303;"> ${galinhasMortas} </b> galinhas a menos, devido a perda de <b style="color: #9c4303;">${(ovoPorGalinhaPerdido).toFixed(0)} </b> ovos, isso faz você deixar de ganhar:
        </span>
        <h2 style="color: #9c4303;">R$ ${(lucroPerdido).toFixed(2)} mensalmente </h2> 
        <h2 style="color: #9c4303;">R$ ${(lucroPerdido * 6).toFixed(2)} a cada 6 meses </h2>
        <h2 style="color: #9c4303;">R$ ${(lucroPerdido * 12).toFixed(2)} anualmente </h2>
        <h2 style="color: #9c4303;">R$ ${((lucroPerdido * 12) * 5).toFixed(2)} a cada 5 anos </h2>
        
        <button onclick = "calcularSensores()" class="botao_ovo">Seguir</button>
        </div>
        `
    }
    function calcularSensores() {
        var areaGalpao = Number(input_area_total.value);
        var nebulizador = Number(input_nebulizador.value);
        var sensorUtilizado = select_sensor.value;
        // Recolocando para armazenar o valor preenchido pelo usuário
        if (sensorUtilizado == "Sensor de temperatura") {
            var sensorTemperatura = areaGalpao / sensor;
            div_html.innerHTML = `
        <div class = 'baixo_simulador'>
        <span class ='texto_simulador'> 
            Seu sensor selecionado foi o de <h3 style="color: #9c4303;"> ${sensorUtilizado} </h3>
            Baseado no tamanho do seu galpão de <b style = "color: #9c4303;"> ${areaGalpao}m² </b>, você necessitará de <b style = "color: #9c4303;"> ${sensorTemperatura} </b> sensores de temperatura.
            <div>
                <img src="./galinha.png" alt="Icone da galinha" id="galinhaAnimada">
            </div>
        </span>        
        </div>
        `
        }
        if (sensorUtilizado == "Sensor de umidade") {
            var sensorUmidade = nebulizador 
            div_html.innerHTML = `
        <div class = 'baixo_simulador'>
        <span class ='texto_simulador'> 
            Seu sensor selecionado foi o de <h3 style="color: #9c4303;"> ${sensorUtilizado} </h3>
            Baseado na quantidade de nebulizadores de <b style = "color: #9c4303;"> ${nebulizador} </b>, você necessitará de <b style = "color: #9c4303;"> ${sensorUmidade} </b> sensores de umidade.
            <div>
                <img src="./galinha.png" alt="Icone da galinha" id="galinhaAnimada">
            </div>
        </span>        
        </div>
            `
        }
        if (sensorUtilizado == "Sensor de temperatura e umidade") {
            var sensorTemperatura = Number(areaGalpao / sensor);
            var sensorUmidade = Number(nebulizador);
            var sensorTotal = sensorTemperatura + sensorUmidade;
            div_html.innerHTML = `
        <div class = 'baixo_simulador'>
        <span class ='texto_simulador'> 
            Seu sensor selecionado foi o de <h3 style="color: #9c4303;"> ${sensorUtilizado} </h3>
            Baseado no tamanho do seu galpão de <b style = "color: #9c4303;"> ${areaGalpao}m² </b>, você necessitará de <b style = "color: #9c4303;"> ${sensorTemperatura} </b> sensores de temperatura. Baseado na quantidade de nebulizadores de <b style = "color: #9c4303;"> ${nebulizador} </b>, você necessitará de <b style = "color: #9c4303;"> ${sensorUmidade} </b> sensores de umidade. Você precisará de <b style = "color: #9c4303;"> ${sensorTotal} </b> sensores.
            <div>
                <img src="./galinha.png" alt="Icone da galinha" id="galinhaAnimada">
            </div>
        </span>        
        </div>
            `
        }
    }

    function limparGalinha() {
        galinhas = '';
        galinhasMortas = '';
        qtdOvo = '';
        precoOvo = '';

        div_html.innerHTML = `
            <h1>Bem vindo ao simulador GranjaTech</h1>
                    <span>
                        Estamos aqui para ajudá-lo a entender como
                        as condições
                        climáticas afetam o desempenho financeiro de sua granja.
                    </span>
            <div>
                <img src="./galinha.png" alt="Icone da galinha" id="galinhaAnimada">
            </div>
        `
    }


</script>